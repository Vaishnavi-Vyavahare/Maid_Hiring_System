{% extends 'main/base.html' %}
{% load i18n %}
{% block title %}
{% trans "Maid Verification" as page_title %}
{% trans "Admin Dashboard" as site_title %}
{{ page_title }} - {{ site_title }}
{% endblock %}
{% block content %}
<section class="py-5 bg-light min-vh-100">
<div class="container py-5">
<div class="row justify-content-center">
<div class="col-lg-10">
<div class="card border-0 shadow-sm mb-4" style="border-radius: 20px;">
<div class="card-body p-5">
<div class="d-flex justify-content-between align-items-center mb-4">
<div class="d-flex align-items-center">
<div class="bg-primary-soft p-4 rounded-circle me-4">
<i class="fas fa-user-shield fa-3x text-primary"></i>
</div>
<div>
<h2 class="fw-bold text-dark mb-1">{{ maid.name }}</h2>
<span class="badge {% if maid.status == 'pending' %}bg-warning{% elif maid.status == 'verified' %}bg-success{% else %}bg-danger{% endif %} rounded-pill px-3 py-2 mt-2">
<i class="fas {% if maid.status == 'pending' %}fa-clock{% elif maid.status == 'verified' %}fa-check-circle{% else %}fa-times-circle{% endif %} me-1"></i>
{% if maid.status == 'pending' %}{% trans "Pending Review" %}{% elif maid.status == 'verified' %}{% trans "Verified" %}{% else %}{% trans "Rejected" %}{% endif %}
</span>
</div>
</div>
<div class="text-end">
<a href="{% url 'admin_user_list' 'unverified' %}" class="btn btn-outline-secondary rounded-pill">
<i class="fas fa-arrow-left me-2"></i>{% trans "Back to Pending List" %}
</a>
</div>
</div>
<div class="row g-4 border-top pt-4">
<div class="col-md-3 border-end">
<label class="small text-muted text-uppercase fw-bold d-block mb-1">{% trans "Location" %}</label>
<p class="mb-0 fw-bold">{{ maid.location }}</p>
</div>
<div class="col-md-3 border-end px-md-4">
<label class="small text-muted text-uppercase fw-bold d-block mb-1">{% trans "Expected Salary" %}</label>
<p class="mb-0 fw-bold text-primary">₹{{ maid.expected_salary }}</p>
</div>
<div class="col-md-3 border-end px-md-4">
<label class="small text-muted text-uppercase fw-bold d-block mb-1">{% trans "Mobile Number" %}</label>
<p class="mb-0 fw-bold">{{ maid.mobile_number }}</p>
</div>
<div class="col-md-3 ps-md-4">
<label class="small text-muted text-uppercase fw-bold d-block mb-1">{% trans "Email Address" %}</label>
<p class="mb-0 fw-bold text-truncate">
<a href="mailto:{{ maid.user.email }}" class="text-decoration-none">{{ maid.user.email }}</a>
</p>
</div>
</div>
</div>
</div>
<div class="row g-4">
<div class="col-lg-7">
<div class="card border-0 shadow-sm mb-4 h-100" style="border-radius: 20px;">
<div class="card-body p-5">
<h5 class="fw-bold mb-4">{% trans "Expertise & Skills" %}</h5>
<div class="d-flex flex-wrap gap-2 mb-5">
{% for skill in maid.skills_list %}
<span class="badge bg-light text-dark border px-3 py-2 fw-normal">{{ skill }}</span>
{% endfor %}
</div>
<h5 class="fw-bold mb-4">{% trans "Verification Documents" %}</h5>
<div class="list-group list-group-flush">
<div class="list-group-item px-0 py-3 d-flex justify-content-between align-items-center">
<div class="d-flex align-items-center">
<i class="fas fa-id-card fa-2x text-muted me-3"></i>
<div>
<h6 class="mb-0 fw-bold">{% trans "Aadhaar Document" %}</h6>
<small class="text-muted">Aadhaar_Document.pdf</small>
</div>
</div>
<a href="{{ maid.aadhaar_document.url }}" target="_blank" class="btn btn-sm btn-outline-primary rounded-pill px-3">{% trans "View / Download" %}</a>
</div>
<div class="list-group-item px-0 py-3 d-flex justify-content-between align-items-center">
<div class="d-flex align-items-center">
<i class="fas fa-file-shield fa-2x text-muted me-3"></i>
<div>
<h6 class="mb-0 fw-bold">{% trans "Police Verification" %}</h6>
<small class="text-muted">Police_Verification.pdf</small>
</div>
</div>
<a href="{{ maid.police_verification.url }}" target="_blank" class="btn btn-sm btn-outline-primary rounded-pill px-3">{% trans "View / Download" %}</a>
</div>
</div>
</div>
</div>
</div>
<div class="col-lg-5">
<div class="card border-0 shadow-sm h-100" style="border-radius: 20px;">
<div class="card-body p-5">
<div class="d-grid gap-3">
<form action="{% url 'approve_maid' maid.id %}" method="POST">
{% csrf_token %}
<button type="submit" class="btn btn-success btn-lg w-100 py-3 fw-bold rounded-pill shadow-sm">
<i class="fas fa-check-circle me-2"></i>{% trans "Approve Registration" %}
</button>
</form>
<form action="{% url 'reject_maid' maid.id %}" method="POST">
{% csrf_token %}
<button type="submit" class="btn btn-outline-danger btn-lg w-100 py-3 fw-bold rounded-pill">
<i class="fas fa-times-circle me-2"></i>{% trans "Reject Registration" %}
</button>
</form>
<form action="{% url 'admin_send_formal_rejection_email' maid.id %}" method="POST">
{% csrf_token %}
<button type="submit" class="btn btn-outline-primary btn-lg w-100 py-3 fw-bold rounded-pill mt-2">
<i class="fas fa-envelope me-2"></i>{% trans "Send Email" %}
</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<style>
.bg-primary-soft { background-color: #f0f4f9; }
</style>
{% endblock %}
